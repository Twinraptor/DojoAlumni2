{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\react\\\\DojoAlumni\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios from\"axios\";import{setAlert}from\"./alert\";import{GET_PROFILE,PROFILE_ERROR,UPDATE_PROFILE,DELETE_ACCOUNT,CLEAR_PROFILE,GET_ALL_PROFILES,GET_REPOS}from\"./types\";// Get current users profile\nexport var getCurrentProfile=function getCurrentProfile(){return function _callee(dispatch){var res;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(axios.get(\"/api/profile/me\"));case 3:res=_context.sent;dispatch({type:GET_PROFILE,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},null,null,[[0,7]]);};};// Get profile by id\nexport var getProfileByID=function getProfileByID(userId){return function _callee2(dispatch){var res;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(axios.get(\"/api/profile/user/\".concat(userId)));case 3:res=_context2.sent;dispatch({type:GET_PROFILE,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},null,null,[[0,7]]);};};// Get all profiles\nexport var getAllProfiles=function getAllProfiles(){return function _callee3(dispatch){var res;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CLEAR_PROFILE});_context3.prev=1;_context3.next=4;return _regeneratorRuntime.awrap(axios.get(\"/api/profile\"));case 4:res=_context3.sent;dispatch({type:GET_ALL_PROFILES,payload:res.data});_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 11:case\"end\":return _context3.stop();}}},null,null,[[1,8]]);};};// Get Github repos\nexport var getGithubRepos=function getGithubRepos(username){return function _callee4(dispatch){var res;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return _regeneratorRuntime.awrap(axios.get(\"/api/profile/github/\".concat(username)));case 3:res=_context4.sent;dispatch({type:GET_REPOS,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 10:case\"end\":return _context4.stop();}}},null,null,[[0,7]]);};};// Create or update profile\nexport var createProfile=function createProfile(formData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return function _callee5(dispatch){var config,res,errors;return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context5.next=4;return _regeneratorRuntime.awrap(axios.post(\"/api/profile\",formData,config));case 4:res=_context5.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?\"Profile updated\":\"Profile Created\",\"success\"));if(!edit){history.push(\"/dashboard\");}_context5.next=16;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data.errors;console.log(errors);if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 16:case\"end\":return _context5.stop();}}},null,null,[[0,10]]);};};// Add experience\nexport var addExperience=function addExperience(formData,history){return function _callee6(dispatch){var config,res,errors;return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context6.next=4;return _regeneratorRuntime.awrap(axios.put(\"/api/profile/experience\",formData,config));case 4:res=_context6.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Experience Added\",\"success\"));history.push(\"/dashboard\");_context6.next=15;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);errors=_context6.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 15:case\"end\":return _context6.stop();}}},null,null,[[0,10]]);};};// Add education\nexport var addEducation=function addEducation(formData,history){return function _callee7(dispatch){var config,res,errors;return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context7.next=4;return _regeneratorRuntime.awrap(axios.put(\"/api/profile/education\",formData,config));case 4:res=_context7.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Education Added\",\"success\"));history.push(\"/dashboard\");_context7.next=15;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 15:case\"end\":return _context7.stop();}}},null,null,[[0,10]]);};};// Delete experience\nexport var deleteExperience=function deleteExperience(id){return function _callee8(dispatch){var res;return _regeneratorRuntime.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:console.log(\"looking for ID\",id);_context8.prev=1;_context8.next=4;return _regeneratorRuntime.awrap(axios.delete(\"api/profile/experience/\".concat(id)));case 4:res=_context8.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Experience Deleted\",\"success\"));_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 12:case\"end\":return _context8.stop();}}},null,null,[[1,9]]);};};// Delete education\nexport var deleteEducation=function deleteEducation(id){return function _callee9(dispatch){var res;return _regeneratorRuntime.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return _regeneratorRuntime.awrap(axios.delete(\"api/profile/education/\".concat(id)));case 3:res=_context9.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert(\"Education Deleted\",\"success\"));_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context9.t0.response.statusText,status:_context9.t0.response.status}});case 11:case\"end\":return _context9.stop();}}},null,null,[[0,8]]);};};// Delete Account AND Profile\nexport var deleteAccount=function deleteAccount(){return function _callee10(dispatch){return _regeneratorRuntime.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!window.confirm(\"Are you sure? This action can NOT be undone!\")){_context10.next=12;break;}_context10.prev=1;_context10.next=4;return _regeneratorRuntime.awrap(axios.delete(\"api/profile\"));case 4:dispatch({type:CLEAR_PROFILE});dispatch({type:DELETE_ACCOUNT});dispatch(setAlert(\"your account has been permanantly deleted.\"));_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context10.t0.response.statusText,status:_context10.t0.response.status}});case 12:case\"end\":return _context10.stop();}}},null,null,[[1,9]]);};};","map":{"version":3,"sources":["D:/react/DojoAlumni/client/src/actions/profile.js"],"names":["axios","setAlert","GET_PROFILE","PROFILE_ERROR","UPDATE_PROFILE","DELETE_ACCOUNT","CLEAR_PROFILE","GET_ALL_PROFILES","GET_REPOS","getCurrentProfile","dispatch","get","res","type","payload","data","msg","response","statusText","status","getProfileByID","userId","getAllProfiles","getGithubRepos","username","createProfile","formData","history","edit","config","headers","post","push","errors","console","log","forEach","error","addExperience","put","addEducation","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_ERROR,\r\n  UPDATE_PROFILE,\r\n  DELETE_ACCOUNT,\r\n  CLEAR_PROFILE,\r\n  GET_ALL_PROFILES,\r\n  GET_REPOS,\r\n} from \"./types\";\r\n\r\n// Get current users profile\r\n\r\nexport const getCurrentProfile = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/profile/me\");\r\n\r\n    dispatch({\r\n      type: GET_PROFILE,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: {\r\n        msg: err.response.statusText,\r\n        status: err.response.status,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n// Get profile by id\r\n\r\nexport const getProfileByID = (userId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/api/profile/user/${userId}`);\r\n\r\n    dispatch({\r\n      type: GET_PROFILE,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: {\r\n        msg: err.response.statusText,\r\n        status: err.response.status,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n// Get all profiles\r\n\r\nexport const getAllProfiles = () => async (dispatch) => {\r\n  dispatch({ type: CLEAR_PROFILE });\r\n  try {\r\n    const res = await axios.get(\"/api/profile\");\r\n\r\n    dispatch({\r\n      type: GET_ALL_PROFILES,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Get Github repos\r\n\r\nexport const getGithubRepos = (username) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/api/profile/github/${username}`);\r\n\r\n    dispatch({\r\n      type: GET_REPOS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Create or update profile\r\n\r\nexport const createProfile = (formData, history, edit = false) => async (\r\n  dispatch\r\n) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const res = await axios.post(\"/api/profile\", formData, config);\r\n\r\n    dispatch({\r\n      type: GET_PROFILE,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(setAlert(edit ? \"Profile updated\" : \"Profile Created\", \"success\"));\r\n\r\n    if (!edit) {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n    console.log(errors);\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: {\r\n        msg: err.response.statusText,\r\n        status: err.response.status,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n// Add experience\r\n\r\nexport const addExperience = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const res = await axios.put(\"/api/profile/experience\", formData, config);\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(setAlert(\"Experience Added\", \"success\"));\r\n    history.push(\"/dashboard\");\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: {\r\n        msg: err.response.statusText,\r\n        status: err.response.status,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n// Add education\r\n\r\nexport const addEducation = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const res = await axios.put(\"/api/profile/education\", formData, config);\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(setAlert(\"Education Added\", \"success\"));\r\n    history.push(\"/dashboard\");\r\n  } catch (err) {\r\n    const errors = err.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: {\r\n        msg: err.response.statusText,\r\n        status: err.response.status,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n// Delete experience\r\nexport const deleteExperience = (id) => async (dispatch) => {\r\n  console.log(\"looking for ID\", id);\r\n  try {\r\n    const res = await axios.delete(`api/profile/experience/${id}`);\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(setAlert(\"Experience Deleted\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Delete education\r\nexport const deleteEducation = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.delete(`api/profile/education/${id}`);\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE,\r\n      payload: res.data,\r\n    });\r\n\r\n    dispatch(setAlert(\"Education Deleted\", \"success\"));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n// Delete Account AND Profile\r\nexport const deleteAccount = () => async (dispatch) => {\r\n  if (window.confirm(\"Are you sure? This action can NOT be undone!\")) {\r\n    try {\r\n      await axios.delete(\"api/profile\");\r\n\r\n      dispatch({\r\n        type: CLEAR_PROFILE,\r\n      });\r\n\r\n      dispatch({ type: DELETE_ACCOUNT });\r\n\r\n      dispatch(setAlert(\"your account has been permanantly deleted.\"));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: PROFILE_ERROR,\r\n        payload: { msg: err.response.statusText, status: err.response.status },\r\n      });\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}